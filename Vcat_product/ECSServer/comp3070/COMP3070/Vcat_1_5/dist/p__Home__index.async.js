"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[371],{49363:function(E,h,e){e.d(h,{W6:function(){return _},WZ:function(){return P},oP:function(){return C},r2:function(){return D},x4:function(){return w}});var m=e(25359),s=e.n(m),g=e(49811),p=e.n(g),f=e(73669),d=f.Z.create({baseURL:"http://59.110.7.219:1002",withCredentials:!0}),o=f.Z.create({baseURL:"http://localhost:8000",withCredentials:!0}),w=function(){var v=p()(s()().mark(function n(u,t){var l;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.post("/login/",{account:u,password:t});case 3:return l=a.sent,a.abrupt("return",l.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0;case 10:case"end":return a.stop()}},n,null,[[0,7]])}));return function(u,t){return v.apply(this,arguments)}}(),_=function(){var v=p()(s()().mark(function n(u,t){var l;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.post("/api/chat",{question:u,history:t});case 3:return l=a.sent,a.abrupt("return",l.data);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0;case 10:case"end":return a.stop()}},n,null,[[0,7]])}));return function(u,t){return v.apply(this,arguments)}}(),D=function(){var v=p()(s()().mark(function n(u,t,l,r,a,y){var M;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,console.log(u),i.next=4,o.post("/register/userInfo",{account:u,password:t,nickname:l,gender:r,birth:a,avatar:y});case 4:return M=i.sent,i.abrupt("return",M.data);case 8:throw i.prev=8,i.t0=i.catch(0),i.t0;case 11:case"end":return i.stop()}},n,null,[[0,8]])}));return function(u,t,l,r,a,y){return v.apply(this,arguments)}}(),C=function(){var v=p()(s()().mark(function n(u){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.post("/register/",{email:u});case 3:return t=r.sent,r.abrupt("return",t.data);case 7:throw r.prev=7,r.t0=r.catch(0),r.t0;case 10:case"end":return r.stop()}},n,null,[[0,7]])}));return function(u){return v.apply(this,arguments)}}(),P=function(){var v=p()(s()().mark(function n(u){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.post("/register/",{captcha:u});case 3:return t=r.sent,r.abrupt("return",t.data);case 7:throw r.prev=7,r.t0=r.catch(0),r.t0;case 10:case"end":return r.stop()}},n,null,[[0,7]])}));return function(u){return v.apply(this,arguments)}}()},94191:function(E,h,e){e.d(h,{Z:function(){return _}});var m=e(80696),s=e(24699),g=e(52385),p=e(93236),f={title:"title___xIGPY"},d=e(62086),o=function(C){var P=C.name;return(0,d.jsx)(m.Z,{children:(0,d.jsx)(s.Z,{children:(0,d.jsxs)(g.Z.Title,{level:3,className:f.title,children:["\u6B22\u8FCE\u4F7F\u7528 ",(0,d.jsx)("strong",{children:P})," \uFF01"]})})})},w=o,_=w},16357:function(E,h,e){e.r(h),e.d(h,{default:function(){return r}});var m=e(25359),s=e.n(m),g=e(49811),p=e.n(g),f=e(54306),d=e.n(f),o=e(93236),w=e(83),_=e(95403),D=e(25450),C=e(94191),P=e(83669),v=e(49473),n={chatContainer:"chatContainer___apOiU","react-chat-widget":"react-chat-widget___l44zC","rcw-header":"rcw-header___rUZXU","rcw-title":"rcw-title___usclB","rcw-subtitle":"rcw-subtitle___kMGlB"},u=e(49363),t=e(62086),l=function(){var y=(0,_.useModel)("global"),M=y.name,T=(0,_.useModel)("@@initialState"),i=T.initialState,V=T.setInitialState,U=(0,o.useState)(i),S=d()(U,2),b=S[0],H=S[1],I=(0,o.useState)([]),O=d()(I,2),L=O[0],B=O[1],W=(0,o.useState)(""),A=d()(W,2),Z=A[0],N=A[1];(0,o.useEffect)(function(){H(i)},[i]);var F=b,$=F.cat_name,K=function(){var z=p()(s()().mark(function R(G){var j;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log(G),c.next=4,(0,u.W6)(G,L);case 4:j=c.sent,console.log(j),N(j.response),B(j.history),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),console.error(c.t0);case 13:case"end":return c.stop()}},R,null,[[0,10]])}));return function(G){return z.apply(this,arguments)}}();return(0,t.jsx)(w._z,{ghost:!0,children:(0,t.jsxs)("div",{className:n.container,children:[(0,t.jsx)(C.Z,{name:(0,D.f)(M)}),(0,t.jsxs)("div",{className:n.chatContainer,children:[(0,t.jsx)(P.Widget,{handleNewUserMessage:K,title:"Chat with your Vcat~",subtitle:"\u5F53\u524D\u5BA0\u7269: ".concat($)}),(0,t.jsx)("div",{className:n.chatResponse,children:Z})]})]})})},r=l},25450:function(E,h,e){e.d(h,{f:function(){return m}});function m(s){return s.trim()}}}]);
